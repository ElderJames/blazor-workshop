@inject NavigationManager Navigation
@inject SignOutSessionStateManager SignOutManager

<AuthorizeView>
    <Authorizing>
        <text style="float: right;">...</text>
    </Authorizing>
    <Authorized>
        <SubMenu Style="float: right;">
            <TitleTemplate>
                <img class="bar-img" src="img/user.svg" />
                @context.User.Identity.Name
            </TitleTemplate>
            <ChildContent>
                <MenuItem OnClick="BeginSignOut">
                    <Icon Type="logout"></Icon>Sign out
                </MenuItem>
            </ChildContent>
        </SubMenu>

     
    </Authorized>
    <NotAuthorized>
        <MenuItem Style="float: right;" RouterLink="authentication/register">
            <Icon Type="plus-circle" Theme="outline" />Register
        </MenuItem>
        <MenuItem Style="float: right;" RouterLink="authentication/login">
            <Icon Type="login" Theme="outline"></Icon>Log in
        </MenuItem>
    </NotAuthorized>
</AuthorizeView>

@code{
    async Task BeginSignOut()
    {
        await SignOutManager.SetSignOutState();
        Navigation.NavigateTo("authentication/logout");
    }
}