@inject NavigationManager Navigation
@inject SignOutSessionStateManager SignOutManager

<AuthorizeView>
    <Authorizing>
        <text style="float: right;">...</text>
    </Authorizing>
    <Authorized>
        <MenuItem Style="float: right;">
            <img src="img/user.svg" />
            @context.User.Identity.Name
        </MenuItem>
        <MenuItem Style="float: right;" OnClick="BeginSignOut">
            <Icon Type="logout"></Icon>Sign out
        </MenuItem>
    </Authorized>
    <NotAuthorized>
        <MenuItem Style="float: right;" RouterLink="authentication/register">
            <Icon Type="plus-circle" Theme="outline" />Register
        </MenuItem>
        <MenuItem Style="float: right;" RouterLink="authentication/login">
            <Icon Type="login" Theme="outline"></Icon>Log in
        </MenuItem>
    </NotAuthorized>
</AuthorizeView>

@code{
    async Task BeginSignOut()
    {
        await SignOutManager.SetSignOutState();
        Navigation.NavigateTo("authentication/logout");
    }
}